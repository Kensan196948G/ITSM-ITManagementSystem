[tool:pytest]
testpaths = tests backend/tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = 
    --strict-markers
    --strict-config
    --timeout=300
    --tb=short
    -v
    --durations=10
    --maxfail=3
    --capture=no
    --log-cli-level=INFO
    --log-cli-format=%(asctime)s [%(levelname)8s] %(name)s: %(message)s
    --log-cli-date-format=%Y-%m-%d %H:%M:%S
    --html=tests/reports/pytest-report.html
    --self-contained-html
    --json-report
    --json-report-file=tests/reports/pytest-report.json
    --cov=backend/app
    --cov-report=html:tests/reports/coverage_html
    --cov-report=json:tests/reports/coverage.json
    --cov-report=term-missing
    --cov-fail-under=70
    --benchmark-disable
    --no-header
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    fast: marks tests as fast running tests
    benchmark: marks tests as benchmark tests
    performance: marks tests as performance tests
    auth: marks tests as authentication tests
    api: marks tests as api tests
    unit: marks tests as unit tests
    integration: marks tests as integration tests
    e2e: marks tests as e2e tests
    load: marks tests as load tests
    security: marks tests as security tests
    smoke: marks tests as smoke tests
    regression: marks tests as regression tests
    timeout: marks tests that may timeout
    critical: marks tests as critical path tests
    database: marks tests that require database
    external: marks tests that require external services
    mock: marks tests that use mocking
    parametrize: marks parametrized tests
    skip: marks tests to skip
    xfail: marks tests expected to fail
    ci: marks tests that run in CI environment
    local: marks tests that run in local environment only
    cleanup: marks tests that require cleanup
timeout = 300
timeout_method = thread
log_auto_indent = true
log_cli = true
log_level = INFO
junit_family = xunit2
junit_logging = all
junit_log_passing_tests = true
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:requests.*
    ignore::urllib3.exceptions.InsecureRequestWarning
    error::pytest.PytestUnraisableExceptionWarning
console_output_style = progress
required_plugins = 
    pytest-html
    pytest-json-report
    pytest-cov
    pytest-timeout
    pytest-benchmark
    pytest-mock
    pytest-asyncio
    pytest-xdist
